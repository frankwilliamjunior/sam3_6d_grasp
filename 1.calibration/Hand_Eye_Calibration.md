# æ‰‹çœ¼æ ‡å®šåŸç†ä¸æ–¹æ³•è¯¦è§£

## 1. æ¦‚è¿°

### 1.1 ä»€ä¹ˆæ˜¯æ‰‹çœ¼æ ‡å®š

æ‰‹çœ¼æ ‡å®šï¼ˆHand-Eye Calibrationï¼‰æ˜¯æœºå™¨äººè§†è§‰ç³»ç»Ÿä¸­çš„å…³é”®æ­¥éª¤ï¼Œç”¨äºç¡®å®š**ç›¸æœºåæ ‡ç³»**ä¸**æœºæ¢°è‡‚æœ«ç«¯åæ ‡ç³»**ä¹‹é—´çš„ç©ºé—´å˜æ¢å…³ç³»ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      æ‰‹çœ¼æ ‡å®šçš„ç›®çš„                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å°†ç›¸æœºè§‚æµ‹åˆ°çš„ç›®æ ‡ä½ç½®ï¼Œå‡†ç¡®è½¬æ¢åˆ°æœºæ¢°è‡‚å¯æ‰§è¡Œçš„åæ ‡ç³»ä¸­      â”‚
â”‚                                                             â”‚
â”‚  ç›¸æœºåæ ‡ç³» â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ æœºæ¢°è‡‚åŸºåº§åæ ‡ç³»          â”‚
â”‚              (é€šè¿‡æ‰‹çœ¼æ ‡å®šçŸ©é˜µè½¬æ¢)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦æ‰‹çœ¼æ ‡å®š

| åº”ç”¨åœºæ™¯ | è¯´æ˜ |
|----------|------|
| è§†è§‰å¼•å¯¼æŠ“å– | ç›¸æœºè¯†åˆ«ç‰©ä½“ä½ç½®ï¼Œæœºæ¢°è‡‚æ‰§è¡ŒæŠ“å– |
| è§†è§‰ä¼ºæœ | å®æ—¶è§†è§‰åé¦ˆæ§åˆ¶æœºæ¢°è‡‚è¿åŠ¨ |
| è´¨é‡æ£€æµ‹ | æœºæ¢°è‡‚å¸¦åŠ¨ç›¸æœºå¯¹å·¥ä»¶è¿›è¡Œæ£€æµ‹ |
| è£…é…ä»»åŠ¡ | ç²¾ç¡®å®šä½é›¶ä»¶è¿›è¡Œè£…é… |

### 1.3 ä¸¤ç§å®‰è£…æ–¹å¼

**è¯¦ç»†ç¤ºæ„å›¾è¯·å‚è€ƒï¼š**
- çœ¼åœ¨æ‰‹ä¸Šï¼š[eye_in_hand.drawio](./eye_in_hand.drawio)
- çœ¼åœ¨æ‰‹å¤–ï¼š[eye_to_hand.drawio](./eye_to_hand.drawio)

> ä½¿ç”¨ draw.io æˆ– VS Code çš„ Draw.io Integration æ’ä»¶æ‰“å¼€æŸ¥çœ‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         æ‰‹çœ¼ç³»ç»Ÿå®‰è£…æ–¹å¼                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚      çœ¼åœ¨æ‰‹ä¸Š (Eye-in-Hand) â”‚      çœ¼åœ¨æ‰‹å¤– (Eye-to-Hand)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             â”‚                                        â”‚
â”‚      â”Œâ”€â”€â”€â”                  â”‚           â”Œâ”€â”€â”€â” â† ç›¸æœºå›ºå®š             â”‚
â”‚      â”‚ ğŸ“·â”‚ â† ç›¸æœº           â”‚           â”‚ ğŸ“·â”‚                        â”‚
â”‚      â””â”€â”¬â”€â”˜                  â”‚           â””â”€â”€â”€â”˜                        â”‚
â”‚        â”‚                    â”‚              â†“ è§‚å¯Ÿ                     â”‚
â”‚    â”Œâ”€â”€â”€â”´â”€â”€â”€â”                â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚    â”‚ æœºæ¢°è‡‚ â”‚                â”‚         â”‚ å·¥ä½œå° â”‚                     â”‚
â”‚    â”‚  æœ«ç«¯  â”‚                â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚    â””â”€â”€â”€â”¬â”€â”€â”€â”˜                â”‚              â†‘                         â”‚
â”‚        â”‚                    â”‚          â”Œâ”€â”€â”€â”´â”€â”€â”€â”                     â”‚
â”‚    â•â•â•â•â•§â•â•â•â•                â”‚          â”‚ æœºæ¢°è‡‚ â”‚                     â”‚
â”‚      åŸºåº§                    â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚                             â”‚                                        â”‚
â”‚  ç›¸æœºéšæœºæ¢°è‡‚è¿åŠ¨            â”‚  ç›¸æœºå›ºå®šï¼Œè§‚å¯Ÿæœºæ¢°è‡‚å·¥ä½œåŒºåŸŸ           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. åæ ‡ç³»å®šä¹‰

### 2.1 ç³»ç»Ÿä¸­çš„åæ ‡ç³»

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        åæ ‡ç³»è¯´æ˜                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   {B} - æœºæ¢°è‡‚åŸºåº§åæ ‡ç³» (Base Frame)                            â”‚
â”‚         â””â”€ æœºæ¢°è‡‚çš„ä¸–ç•Œå‚è€ƒç³»ï¼Œå›ºå®šä¸åŠ¨                          â”‚
â”‚                                                                 â”‚
â”‚   {E} - æœºæ¢°è‡‚æœ«ç«¯åæ ‡ç³» (End-Effector Frame)                    â”‚
â”‚         â””â”€ éšæœºæ¢°è‡‚è¿åŠ¨ï¼Œå¯ä»æœºæ¢°è‡‚æ§åˆ¶å™¨è¯»å–                    â”‚
â”‚                                                                 â”‚
â”‚   {C} - ç›¸æœºåæ ‡ç³» (Camera Frame)                                â”‚
â”‚         â””â”€ ç›¸æœºå…‰å¿ƒä½ç½®ï¼ŒZè½´æŒ‡å‘å‰æ–¹                             â”‚
â”‚                                                                 â”‚
â”‚   {T} - æ ‡å®šæ¿åæ ‡ç³» (Target/Calibration Board Frame)            â”‚
â”‚         â””â”€ æ ‡å®šæ¿ä¸Šçš„å‚è€ƒåæ ‡ç³»                                  â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 å˜æ¢çŸ©é˜µè¡¨ç¤º

```
å˜æ¢çŸ©é˜µ T æ˜¯ 4Ã—4 é½æ¬¡å˜æ¢çŸ©é˜µï¼š

        â”Œ                     â”
        â”‚  R(3Ã—3)  â”‚  t(3Ã—1)  â”‚
  T  =  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
        â”‚  0  0  0 â”‚    1     â”‚
        â””                     â”˜

  R: æ—‹è½¬çŸ©é˜µ (3Ã—3)
  t: å¹³ç§»å‘é‡ (3Ã—1)
```

---

## 3. çœ¼åœ¨æ‰‹ä¸Š (Eye-in-Hand) æ ‡å®š

### 3.1 ç³»ç»Ÿé…ç½®

```
                    ç›¸æœº {C}
                      ğŸ“·
                      â”‚
                      â”‚ X (å¾…æ±‚è§£)
                      â†“
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   æœºæ¢°è‡‚æœ«ç«¯   â”‚ {E}
              â”‚   End-Effector â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â”‚ A (å·²çŸ¥ï¼Œä»æœºæ¢°è‡‚è¯»å–)
                      â”‚
              â•â•â•â•â•â•â•â•â•§â•â•â•â•â•â•â•â•
                   åŸºåº§ {B}


              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚    æ ‡å®šæ¿     â”‚ {T}  â† å›ºå®šåœ¨å·¥ä½œå°ä¸Š
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 æ•°å­¦æ¨¡å‹

**å·²çŸ¥é‡ï¼š**
- `A = T_E_to_B` : æœ«ç«¯åˆ°åŸºåº§çš„å˜æ¢ï¼ˆä»æœºæ¢°è‡‚è¯»å–ï¼‰
- `B = T_T_to_C` : æ ‡å®šæ¿åˆ°ç›¸æœºçš„å˜æ¢ï¼ˆä»è§†è§‰æ£€æµ‹è·å–ï¼‰

**å¾…æ±‚é‡ï¼š**
- `X = T_C_to_E` : ç›¸æœºåˆ°æœ«ç«¯çš„å˜æ¢ï¼ˆæ‰‹çœ¼æ ‡å®šçŸ©é˜µï¼‰

### 3.3 AX = XB æ–¹ç¨‹æ¨å¯¼

```
ä½å§¿1æ—¶çš„å˜æ¢é“¾ï¼š
{T} â”€â”€Bâ‚â”€â”€â†’ {C} â”€â”€Xâ”€â”€â†’ {E} â”€â”€Aâ‚â”€â”€â†’ {B}

ä½å§¿2æ—¶çš„å˜æ¢é“¾ï¼š
{T} â”€â”€Bâ‚‚â”€â”€â†’ {C} â”€â”€Xâ”€â”€â†’ {E} â”€â”€Aâ‚‚â”€â”€â†’ {B}

ç”±äºæ ‡å®šæ¿å›ºå®šï¼Œä»{T}åˆ°{B}çš„å˜æ¢ä¸å˜ï¼š
Aâ‚ Â· X Â· Bâ‚ = Aâ‚‚ Â· X Â· Bâ‚‚

æ•´ç†å¾—ï¼š
(Aâ‚‚â»Â¹ Â· Aâ‚) Â· X = X Â· (Bâ‚‚ Â· Bâ‚â»Â¹)

ä»¤ A = Aâ‚‚â»Â¹ Â· Aâ‚,  B = Bâ‚‚ Â· Bâ‚â»Â¹

å¾—åˆ°ç»å…¸æ–¹ç¨‹ï¼š  AX = XB
```

### 3.4 å›¾ç¤ºè¯´æ˜

```
                        ä½å§¿ 1                              ä½å§¿ 2

                      ğŸ“· {C}                              ğŸ“· {C}
                       â•²                                    â•²
                    X   â•²                                X   â•²
                         â•²                                    â•²
                    â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”                        â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
                    â”‚    {E}    â”‚                        â”‚    {E}    â”‚
                    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                        â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                          â”‚ Aâ‚                                 â”‚ Aâ‚‚
                          â†“                                    â†“
                    â•â•â•â•â•â•â•§â•â•â•â•â•â•                        â•â•â•â•â•â•â•§â•â•â•â•â•â•
                        {B}                                  {B}
                          â†‘                                    â†‘
                          â”‚                                    â”‚
                    â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”                        â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
                    â”‚    {T}    â”‚  â†â”€â”€ æ ‡å®šæ¿å›ºå®š â”€â”€â†’    â”‚    {T}    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†‘                                    â†‘
                          â”‚ Bâ‚                                 â”‚ Bâ‚‚
                          â”‚                                    â”‚
                        ğŸ“·                                    ğŸ“·
                    (ç›¸æœºè§‚æµ‹)                            (ç›¸æœºè§‚æµ‹)
```

---

## 4. çœ¼åœ¨æ‰‹å¤– (Eye-to-Hand) æ ‡å®š

### 4.1 ç³»ç»Ÿé…ç½®

```
        ğŸ“· ç›¸æœº {C}  â†â”€â”€ å›ºå®šåœ¨æ”¯æ¶ä¸Š
         â”‚
         â”‚ è§‚å¯Ÿ
         â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚            å·¥ ä½œ å°                  â”‚
    â”‚                                     â”‚
    â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
    â”‚    â”‚  æ ‡å®šæ¿   â”‚ {T}                â”‚
    â”‚    â”‚           â”‚  â†‘                 â”‚
    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                 â”‚
    â”‚                   â”‚ å®‰è£…åœ¨æœ«ç«¯       â”‚
    â”‚              â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”            â”‚
    â”‚              â”‚  {E}    â”‚            â”‚
    â”‚              â”‚ æœºæ¢°è‡‚  â”‚            â”‚
    â”‚              â”‚  æœ«ç«¯   â”‚            â”‚
    â”‚              â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                   â•â•â•â•â•â•§â•â•â•â•â•
                     åŸºåº§ {B}
```

### 4.2 æ•°å­¦æ¨¡å‹

**å·²çŸ¥é‡ï¼š**
- `A = T_E_to_B` : æœ«ç«¯åˆ°åŸºåº§çš„å˜æ¢ï¼ˆä»æœºæ¢°è‡‚è¯»å–ï¼‰
- `B = T_T_to_C` : æ ‡å®šæ¿åˆ°ç›¸æœºçš„å˜æ¢ï¼ˆä»è§†è§‰æ£€æµ‹è·å–ï¼‰

**å¾…æ±‚é‡ï¼š**
- `X = T_C_to_B` : ç›¸æœºåˆ°åŸºåº§çš„å˜æ¢ï¼ˆæ‰‹çœ¼æ ‡å®šçŸ©é˜µï¼‰
- `Y = T_T_to_E` : æ ‡å®šæ¿åˆ°æœ«ç«¯çš„å˜æ¢ï¼ˆå›ºå®šä¸å˜ï¼‰

### 4.3 AX = YB æ–¹ç¨‹æ¨å¯¼

```
å˜æ¢é“¾å…³ç³»ï¼š
{T} â”€â”€Yâ”€â”€â†’ {E} â”€â”€Aâ”€â”€â†’ {B}
{T} â”€â”€Bâ»Â¹â”€â”€â†’ {C} â”€â”€Xâ”€â”€â†’ {B}

ä¸¤æ¡è·¯å¾„åˆ°è¾¾{B}ç›¸åŒï¼š
A Â· Y = X Â· Bâ»Â¹

æ•´ç†å¾—ï¼š  AX = YB  (æˆ–å†™ä½œ AY = XB)
```

### 4.4 å›¾ç¤ºè¯´æ˜

```
                    ğŸ“· {C} (å›ºå®š)
                     â”‚
                     â”‚ X (å¾…æ±‚)
                     â†“
               â•â•â•â•â•â•â•§â•â•â•â•â•â•  {B} åŸºåº§
                     â”‚
                     â”‚ A (å·²çŸ¥)
                     â†“
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚    {E}    â”‚ æœ«ç«¯
               â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                     â”‚ Y (å¾…æ±‚)
                     â†“
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚    {T}    â”‚ æ ‡å®šæ¿
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†‘
                     â”‚ B (å·²çŸ¥)
                     â”‚
                    ğŸ“· (ç›¸æœºè§‚æµ‹)
```

---

## 5. ä¸¤ç§æ–¹å¼å¯¹æ¯”

| ç‰¹æ€§ | çœ¼åœ¨æ‰‹ä¸Š (Eye-in-Hand) | çœ¼åœ¨æ‰‹å¤– (Eye-to-Hand) |
|------|------------------------|------------------------|
| ç›¸æœºä½ç½® | å®‰è£…åœ¨æœºæ¢°è‡‚æœ«ç«¯ | å›ºå®šåœ¨å¤–éƒ¨æ”¯æ¶ |
| æ ‡å®šæ¿ä½ç½® | å›ºå®šåœ¨å·¥ä½œå° | å®‰è£…åœ¨æœºæ¢°è‡‚æœ«ç«¯ |
| æ±‚è§£æ–¹ç¨‹ | AX = XB | AX = YB |
| è§†é‡èŒƒå›´ | éšæœ«ç«¯ç§»åŠ¨ï¼Œçµæ´» | å›ºå®šï¼Œè¦†ç›–å·¥ä½œåŒº |
| ç²¾åº¦ç‰¹ç‚¹ | è¿‘è·ç¦»ç²¾åº¦é«˜ | å…¨å±€ä¸€è‡´æ€§å¥½ |
| é€‚ç”¨åœºæ™¯ | ç²¾å¯†è£…é…ã€æ£€æµ‹ | åˆ†æ‹£ã€æŠ“å– |
| çº¿ç¼†é—®é¢˜ | éœ€è€ƒè™‘çº¿ç¼†èµ°çº¿ | æ— çº¿ç¼†å¹²æ‰° |

---

## 6. æ±‚è§£ç®—æ³•

### 6.1 ç»å…¸æ±‚è§£æ–¹æ³•

| æ–¹æ³• | æå‡ºè€… | ç‰¹ç‚¹ |
|------|--------|------|
| Tsai-Lenz | Tsai & Lenz (1989) | åˆ†ç¦»æ—‹è½¬å’Œå¹³ç§»æ±‚è§£ |
| Park | Park & Martin (1994) | æç¾¤æ–¹æ³• |
| Horaud | Horaud & Dornaika (1995) | å››å…ƒæ•°æ–¹æ³• |
| Daniilidis | Daniilidis (1999) | å¯¹å¶å››å…ƒæ•°æ–¹æ³• |

### 6.2 Tsai-Lenz ç®—æ³•åŸç†

```
AX = XB å¯åˆ†è§£ä¸ºæ—‹è½¬å’Œå¹³ç§»ä¸¤éƒ¨åˆ†ï¼š

æ—‹è½¬éƒ¨åˆ†ï¼š  Ra Â· Rx = Rx Â· Rb
å¹³ç§»éƒ¨åˆ†ï¼š  Ra Â· tx + ta = Rx Â· tb + tx

æ±‚è§£æ­¥éª¤ï¼š
1. å…ˆæ±‚è§£æ—‹è½¬ Rxï¼ˆä½¿ç”¨ç½—å¾·é‡Œæ ¼æ–¯å…¬å¼ï¼‰
2. å†æ±‚è§£å¹³ç§» txï¼ˆçº¿æ€§æœ€å°äºŒä¹˜ï¼‰
```

---

## 7. æ ‡å®šæµç¨‹

### 7.1 å‡†å¤‡å·¥ä½œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ ‡å®šå‰å‡†å¤‡                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1. æ ‡å®šæ¿é€‰æ‹©                                          â”‚
â”‚     â”œâ”€ æ£‹ç›˜æ ¼ (Checkerboard): å¸¸ç”¨ï¼Œç²¾åº¦é«˜              â”‚
â”‚     â”œâ”€ åœ†ç‚¹é˜µåˆ— (Circle Grid): å¯¹å…‰ç…§ä¸æ•æ„Ÿ             â”‚
â”‚     â””â”€ ChArUco: éƒ¨åˆ†é®æŒ¡ä»å¯æ£€æµ‹                        â”‚
â”‚                                                         â”‚
â”‚  2. ç›¸æœºå†…å‚æ ‡å®š                                        â”‚
â”‚     â””â”€ ä½¿ç”¨ OpenCV calibrateCamera() å®Œæˆ              â”‚
â”‚                                                         â”‚
â”‚  3. æœºæ¢°è‡‚å‡†å¤‡                                          â”‚
â”‚     â””â”€ ç¡®ä¿èƒ½è¯»å–æœ«ç«¯ä½å§¿ (ä½ç½®+å§¿æ€)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2 æ•°æ®é‡‡é›†æ­¥éª¤

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     æ•°æ®é‡‡é›†æµç¨‹                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”    ç§»åŠ¨æœºæ¢°è‡‚    â”Œâ”€â”€â”€â”€â”€â”    è®°å½•æ•°æ®    â”Œâ”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ä½å§¿1â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ â”‚ä½å§¿2â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ â”‚ä½å§¿Nâ”‚  â”‚
â”‚   â””â”€â”€â”¬â”€â”€â”˜                 â””â”€â”€â”¬â”€â”€â”˜               â””â”€â”€â”¬â”€â”€â”˜  â”‚
â”‚      â”‚                       â”‚                     â”‚      â”‚
â”‚      â–¼                       â–¼                     â–¼      â”‚
â”‚   é‡‡é›†å›¾åƒ               é‡‡é›†å›¾åƒ              é‡‡é›†å›¾åƒ    â”‚
â”‚   è®°å½•æœ«ç«¯ä½å§¿           è®°å½•æœ«ç«¯ä½å§¿          è®°å½•æœ«ç«¯ä½å§¿ â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å»ºè®®é‡‡é›† 15-25 ç»„æ•°æ®ï¼Œä½å§¿åº”æ»¡è¶³ï¼š
  â€¢ è¦†ç›–ä¸åŒçš„ X, Y, Z ä½ç½®
  â€¢ åŒ…å«ä¸åŒçš„æ—‹è½¬è§’åº¦
  â€¢ ç¡®ä¿æ ‡å®šæ¿åœ¨ç›¸æœºè§†é‡å†…ä¸”æ¸…æ™°
```

---

## 8. ä»£ç å®ç°

### 8.1 ä½¿ç”¨ OpenCV è¿›è¡Œæ‰‹çœ¼æ ‡å®š

```python
import cv2
import numpy as np

def hand_eye_calibration(R_gripper2base, t_gripper2base,
                         R_target2cam, t_target2cam,
                         method='eye_in_hand'):
    """
    æ‰‹çœ¼æ ‡å®š
    Args:
        R_gripper2base: æœ«ç«¯åˆ°åŸºåº§çš„æ—‹è½¬çŸ©é˜µåˆ—è¡¨
        t_gripper2base: æœ«ç«¯åˆ°åŸºåº§çš„å¹³ç§»å‘é‡åˆ—è¡¨
        R_target2cam: æ ‡å®šæ¿åˆ°ç›¸æœºçš„æ—‹è½¬çŸ©é˜µåˆ—è¡¨
        t_target2cam: æ ‡å®šæ¿åˆ°ç›¸æœºçš„å¹³ç§»å‘é‡åˆ—è¡¨
        method: 'eye_in_hand' æˆ– 'eye_to_hand'
    """
    if method == 'eye_in_hand':
        # çœ¼åœ¨æ‰‹ä¸Š: AX = XB
        R, t = cv2.calibrateHandEye(
            R_gripper2base, t_gripper2base,
            R_target2cam, t_target2cam,
            method=cv2.CALIB_HAND_EYE_TSAI
        )
    else:
        # çœ¼åœ¨æ‰‹å¤–: AX = YB
        R, t = cv2.calibrateRobotWorldHandEye(
            R_world2cam, t_world2cam,
            R_base2gripper, t_base2gripper,
            method=cv2.CALIB_ROBOT_WORLD_HAND_EYE_SHAH
        )

    return R, t
```

### 8.2 å®Œæ•´æ ‡å®šæµç¨‹ä»£ç 

```python
import cv2
import numpy as np

class HandEyeCalibrator:
    def __init__(self, board_size=(9, 6), square_size=0.025):
        """
        Args:
            board_size: æ£‹ç›˜æ ¼å†…è§’ç‚¹æ•° (åˆ—, è¡Œ)
            square_size: æ£‹ç›˜æ ¼æ–¹æ ¼è¾¹é•¿ (ç±³)
        """
        self.board_size = board_size
        self.square_size = square_size

        # å­˜å‚¨æ ‡å®šæ•°æ®
        self.R_gripper2base_list = []
        self.t_gripper2base_list = []
        self.R_target2cam_list = []
        self.t_target2cam_list = []

    def detect_board(self, image, camera_matrix, dist_coeffs):
        """æ£€æµ‹æ ‡å®šæ¿å¹¶è®¡ç®—ä½å§¿"""
        gray = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)
        ret, corners = cv2.findChessboardCorners(gray, self.board_size)

        if not ret:
            return None, None

        # äºšåƒç´ ç²¾åŒ–
        criteria = (cv2.TERM_CRITERIA_EPS + cv2.TERM_CRITERIA_MAX_ITER, 30, 0.001)
        corners = cv2.cornerSubPix(gray, corners, (11, 11), (-1, -1), criteria)

        # 3Dç‚¹
        objp = np.zeros((self.board_size[0] * self.board_size[1], 3), np.float32)
        objp[:, :2] = np.mgrid[0:self.board_size[0],
                               0:self.board_size[1]].T.reshape(-1, 2)
        objp *= self.square_size

        # PnPæ±‚è§£
        ret, rvec, tvec = cv2.solvePnP(objp, corners, camera_matrix, dist_coeffs)
        R, _ = cv2.Rodrigues(rvec)

        return R, tvec

    def add_sample(self, image, robot_pose, camera_matrix, dist_coeffs):
        """æ·»åŠ ä¸€ç»„æ ‡å®šæ•°æ®"""
        R_target2cam, t_target2cam = self.detect_board(
            image, camera_matrix, dist_coeffs
        )
        if R_target2cam is None:
            return False

        # æœºæ¢°è‡‚ä½å§¿
        R_gripper2base = robot_pose[:3, :3]
        t_gripper2base = robot_pose[:3, 3].reshape(3, 1)

        self.R_gripper2base_list.append(R_gripper2base)
        self.t_gripper2base_list.append(t_gripper2base)
        self.R_target2cam_list.append(R_target2cam)
        self.t_target2cam_list.append(t_target2cam)

        return True

    def calibrate(self, method=cv2.CALIB_HAND_EYE_TSAI):
        """æ‰§è¡Œæ ‡å®š"""
        R_cam2gripper, t_cam2gripper = cv2.calibrateHandEye(
            self.R_gripper2base_list,
            self.t_gripper2base_list,
            self.R_target2cam_list,
            self.t_target2cam_list,
            method=method
        )
        return R_cam2gripper, t_cam2gripper
```

---

## 9. æ ‡å®šç²¾åº¦éªŒè¯

### 9.1 éªŒè¯æ–¹æ³•

```python
def verify_calibration(T_cam2gripper, test_data):
    """
    éªŒè¯æ ‡å®šç²¾åº¦
    é€šè¿‡è®¡ç®—é‡æŠ•å½±è¯¯å·®æˆ–ä½ç½®è¯¯å·®
    """
    errors = []
    for data in test_data:
        # è®¡ç®—é¢„æµ‹ä½ç½®
        T_target_in_base_pred = (
            data['T_gripper2base'] @
            T_cam2gripper @
            data['T_target2cam']
        )
        # ä¸çœŸå®ä½ç½®æ¯”è¾ƒ
        error = np.linalg.norm(
            T_target_in_base_pred[:3, 3] - data['T_target_true'][:3, 3]
        )
        errors.append(error)

    return np.mean(errors), np.std(errors)
```

### 9.2 ç²¾åº¦æŒ‡æ ‡

| ç²¾åº¦ç­‰çº§ | ä½ç½®è¯¯å·® | é€‚ç”¨åœºæ™¯ |
|----------|----------|----------|
| é«˜ç²¾åº¦ | < 1 mm | ç²¾å¯†è£…é… |
| ä¸­ç­‰ç²¾åº¦ | 1-3 mm | ä¸€èˆ¬æŠ“å– |
| ä½ç²¾åº¦ | > 3 mm | éœ€é‡æ–°æ ‡å®š |

---

## 10. æ³¨æ„äº‹é¡¹ä¸å¸¸è§é—®é¢˜

### 10.1 æ•°æ®é‡‡é›†æ³¨æ„äº‹é¡¹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ•°æ®é‡‡é›†è¦ç‚¹                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  âœ“ ä½å§¿å¤šæ ·æ€§                                               â”‚
â”‚    â€¢ å¹³ç§»: è¦†ç›– X, Y, Z ä¸‰ä¸ªæ–¹å‘                            â”‚
â”‚    â€¢ æ—‹è½¬: åŒ…å«ç»•å„è½´çš„æ—‹è½¬ (Â±30Â°ä»¥ä¸Š)                      â”‚
â”‚                                                             â”‚
â”‚  âœ“ å›¾åƒè´¨é‡                                                 â”‚
â”‚    â€¢ æ ‡å®šæ¿å®Œæ•´å¯è§                                         â”‚
â”‚    â€¢ å›¾åƒæ¸…æ™°ï¼Œæ— è¿åŠ¨æ¨¡ç³Š                                   â”‚
â”‚    â€¢ å…‰ç…§å‡åŒ€ï¼Œé¿å…åå…‰                                     â”‚
â”‚                                                             â”‚
â”‚  âœ“ æ•°æ®æ•°é‡                                                 â”‚
â”‚    â€¢ æœ€å°‘ 10 ç»„ï¼Œå»ºè®® 15-25 ç»„                              â”‚
â”‚    â€¢ æ•°æ®è¶Šå¤šï¼Œç»“æœè¶Šç¨³å®š                                   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 10.2 å¸¸è§é—®é¢˜

| é—®é¢˜ | å¯èƒ½åŸå›  | è§£å†³æ–¹æ¡ˆ |
|------|----------|----------|
| æ ‡å®šè¯¯å·®å¤§ | ä½å§¿å¤šæ ·æ€§ä¸è¶³ | å¢åŠ ä¸åŒè§’åº¦çš„æ•°æ® |
| ç»“æœä¸ç¨³å®š | æ•°æ®é‡å¤ªå°‘ | é‡‡é›†æ›´å¤šç»„æ•°æ® |
| æ£€æµ‹å¤±è´¥ | å…‰ç…§/é®æŒ¡é—®é¢˜ | æ”¹å–„ç¯å¢ƒæ¡ä»¶ |
| æ—‹è½¬è¯¯å·®å¤§ | æ—‹è½¬èŒƒå›´å° | å¢å¤§æ—‹è½¬è§’åº¦å˜åŒ– |

---

## 11. æ€»ç»“

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      æ‰‹çœ¼æ ‡å®šæµç¨‹æ€»ç»“                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚  1. ç¡®å®šå®‰è£…æ–¹å¼                                               â”‚
â”‚     â”œâ”€ çœ¼åœ¨æ‰‹ä¸Š: ç›¸æœºè£…æœ«ç«¯ï¼Œæ ‡å®šæ¿å›ºå®š                        â”‚
â”‚     â””â”€ çœ¼åœ¨æ‰‹å¤–: ç›¸æœºå›ºå®šï¼Œæ ‡å®šæ¿è£…æœ«ç«¯                        â”‚
â”‚                                                                â”‚
â”‚  2. å‡†å¤‡å·¥ä½œ                                                   â”‚
â”‚     â”œâ”€ å®Œæˆç›¸æœºå†…å‚æ ‡å®š                                        â”‚
â”‚     â””â”€ å‡†å¤‡æ ‡å®šæ¿ (æ£‹ç›˜æ ¼/åœ†ç‚¹)                                â”‚
â”‚                                                                â”‚
â”‚  3. æ•°æ®é‡‡é›†                                                   â”‚
â”‚     â”œâ”€ ç§»åŠ¨æœºæ¢°è‡‚åˆ°ä¸åŒä½å§¿ (15-25ç»„)                          â”‚
â”‚     â”œâ”€ è®°å½•æœ«ç«¯ä½å§¿ T_E_to_B                                   â”‚
â”‚     â””â”€ æ£€æµ‹æ ‡å®šæ¿ä½å§¿ T_T_to_C                                 â”‚
â”‚                                                                â”‚
â”‚  4. æ±‚è§£æ ‡å®šçŸ©é˜µ                                               â”‚
â”‚     â”œâ”€ çœ¼åœ¨æ‰‹ä¸Š: æ±‚è§£ AX = XB                                  â”‚
â”‚     â””â”€ çœ¼åœ¨æ‰‹å¤–: æ±‚è§£ AX = YB                                  â”‚
â”‚                                                                â”‚
â”‚  5. éªŒè¯ç²¾åº¦                                                   â”‚
â”‚     â””â”€ ä½ç½®è¯¯å·® < 3mm ä¸ºåˆæ ¼                                   â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**æœ€åæ›´æ–°**: 2025-12-29
